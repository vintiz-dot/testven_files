<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Educator Clinical Portfolio</title>
    <!-- Google Fonts: Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <style>
        :root {
            --bg-dark: #0f172a;
            --bg-card: rgba(30, 41, 59, 0.6);
            --bg-card-hover: rgba(51, 65, 85, 0.8);
            --border-glass: rgba(255, 255, 255, 0.08);
            --accent-primary: #38bdf8;  /* Sky Blue */
            --accent-secondary: #818cf8; /* Indigo */
            --accent-success: #34d399;
            --text-main: #f1f5f9;
            --text-muted: #94a3b8;
            --font-stack: 'Inter', sans-serif;
            --radius-lg: 16px;
            --radius-md: 8px;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }

        body {
            background-color: var(--bg-dark);
            color: var(--text-main);
            font-family: var(--font-stack);
            line-height: 1.6;
            overflow-x: hidden;
            scroll-behavior: smooth;
        }

        /* Background Atmosphere */
        .background-gradient {
            position: fixed;
            top: 0; left: 0; width: 100vw; height: 100vh;
            background: radial-gradient(circle at 10% 10%, rgba(56, 189, 248, 0.15), transparent 40%),
                        radial-gradient(circle at 90% 90%, rgba(129, 140, 248, 0.1), transparent 40%);
            z-index: -1;
            pointer-events: none;
        }

        /* Header & Nav */
        header {
            position: sticky;
            top: 0;
            backdrop-filter: blur(12px);
            background: rgba(15, 23, 42, 0.85);
            border-bottom: 1px solid var(--border-glass);
            z-index: 50;
            padding: 1rem 0;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .brand h1 { font-size: 1.5rem; font-weight: 700; letter-spacing: -0.5px; }
        .brand .highlight { color: var(--accent-primary); }
        .role { font-size: 0.85rem; color: var(--text-muted); }

        nav { display: flex; gap: 24px; }
        .nav-link {
            color: var(--text-muted);
            text-decoration: none;
            font-size: 0.9rem;
            font-weight: 500;
            transition: color 0.2s;
        }
        .nav-link:hover, .nav-link.active { color: var(--accent-primary); }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 24px;
        }

        /* Sections */
        .portfolio-intro {
            text-align: center;
            padding: 60px 0;
            max-width: 800px;
            margin: 0 auto;
        }
        .portfolio-intro h2 { font-size: 2.5rem; margin-bottom: 16px; background: linear-gradient(to right, #fff, #cbd5e1); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .portfolio-intro p { color: var(--text-muted); margin-bottom: 24px; }
        
        .bio-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--border-glass);
            border-radius: var(--radius-lg);
            padding: 24px;
            text-align: left;
            margin-bottom: 40px;
        }
        .bio-title { color: var(--accent-primary); font-weight: 600; margin-bottom: 8px; display: block; text-transform: uppercase; font-size: 0.8rem; letter-spacing: 1px; }
        .bio-text { font-size: 0.95rem; line-height: 1.7; color: var(--text-main); margin-bottom: 20px; }
        .resume-btn {
            display: inline-flex; align-items: center; gap: 8px;
            padding: 10px 20px;
            background: var(--accent-secondary);
            color: white;
            border-radius: 6px;
            text-decoration: none;
            font-weight: 500;
            font-size: 0.9rem;
            transition: all 0.2s;
        }
        .resume-btn:hover { background: #6366f1; transform: translateY(-2px); }

        .domain-section { margin-bottom: 80px; scroll-margin-top: 100px; }
        .domain-header {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 32px;
            border-bottom: 1px solid var(--border-glass);
            padding-bottom: 16px;
        }
        .domain-icon { color: var(--accent-secondary); width: 32px; height: 32px; }
        .domain-header h3 { font-size: 1.5rem; color: var(--text-main); }
        .domain-header p { color: var(--text-muted); font-size: 0.9rem; }

        /* Cards */
        .project-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 24px;
        }

        .card {
            background: var(--bg-card);
            border: 1px solid var(--border-glass);
            border-radius: var(--radius-lg);
            padding: 24px;
            cursor: pointer;
            transition: transform 0.2s, background 0.2s, box-shadow 0.2s;
        }
        .card:hover {
            transform: translateY(-4px);
            background: var(--bg-card-hover);
            box-shadow: 0 10px 30px -10px rgba(0,0,0,0.5);
            border-color: rgba(56, 189, 248, 0.3);
        }
        .card-tags { display: flex; gap: 8px; flex-wrap: wrap; margin-bottom: 16px; }
        .tag {
            font-size: 0.7rem;
            padding: 4px 10px;
            border-radius: 20px;
            background: rgba(56, 189, 248, 0.1);
            color: var(--accent-primary);
            border: 1px solid rgba(56, 189, 248, 0.2);
            font-weight: 600;
        }
        .card h4 { font-size: 1.25rem; margin-bottom: 12px; }
        .card p { font-size: 0.9rem; color: var(--text-muted); margin-bottom: 20px; }
        .card-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.85rem;
            color: var(--accent-secondary);
            font-weight: 500;
        }

        /* Modal */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(8px);
            display: flex; justify-content: center; align-items: center;
            z-index: 100;
            opacity: 0; pointer-events: none;
            transition: opacity 0.3s ease;
        }
        .modal-overlay.active { opacity: 1; pointer-events: all; }

        .modal-content {
            background: #1e293b;
            width: 90%; max-width: 900px; height: 85vh;
            border-radius: 24px;
            border: 1px solid var(--border-glass);
            display: flex; flex-direction: column;
            position: relative;
            box-shadow: 0 25px 50px -12px rgba(0,0,0,0.7);
            overflow: hidden;
        }

        .close-btn {
            position: absolute; top: 20px; right: 20px;
            background: none; border: none; color: var(--text-muted);
            font-size: 2rem; cursor: pointer; z-index: 10;
        }
        .close-btn:hover { color: #fff; }

        .modal-header { padding: 32px 32px 20px; background: rgba(15,23,42,0.5); }
        .modal-header h2 { font-size: 1.8rem; margin: 8px 0; }
        .modal-header p { color: var(--text-muted); }

        /* Tabs */
        .tabs {
            display: flex;
            border-bottom: 1px solid var(--border-glass);
            padding: 0 32px;
            background: rgba(15,23,42,0.3);
        }
        .tab-btn {
            background: none; border: none;
            padding: 16px 24px;
            color: var(--text-muted);
            font-family: inherit; font-weight: 600;
            cursor: pointer;
            border-bottom: 2px solid transparent;
            transition: all 0.2s;
        }
        .tab-btn:hover { color: var(--text-main); }
        .tab-btn.active { color: var(--accent-primary); border-bottom-color: var(--accent-primary); }

        .modal-body {
            flex: 1; overflow-y: auto; padding: 32px;
            background: linear-gradient(to bottom, rgba(30,41,59,0.3), transparent);
        }
        .tab-content { display: none; animation: fadeIn 0.3s ease; }
        .tab-content.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }

        /* Content Blocks */
        .content-block { margin-bottom: 40px; }
        .content-block h4 {
            display: flex; align-items: center; gap: 10px;
            color: var(--accent-primary); margin-bottom: 16px;
            font-size: 1.1rem; text-transform: uppercase; letter-spacing: 0.5px;
        }

        .info-card {
            background: rgba(255,255,255,0.03);
            padding: 20px; border-radius: var(--radius-md);
            border-left: 3px solid var(--accent-secondary);
        }

        .resource-links a {
            display: inline-flex; align-items: center; gap: 8px;
            padding: 10px 16px; margin-right: 10px; margin-bottom: 10px;
            background: rgba(56, 189, 248, 0.1); border: 1px solid rgba(56, 189, 248, 0.2);
            color: var(--text-main); text-decoration: none; border-radius: 6px;
            font-size: 0.9rem; transition: all 0.2s;
        }
        .resource-links a:hover { background: rgba(56, 189, 248, 0.2); transform: translateY(-2px); }

        /* Video & Annotations */
        .video-placeholder {
            width: 100%; aspect-ratio: 16/9;
            background: #000; border-radius: var(--radius-md);
            display: flex; justify-content: center; align-items: center;
            color: var(--text-muted); margin-bottom: 20px;
            overflow: hidden; /* Ensure video doesn't spill out */
        }
        
        .video-iframe {
            width: 100%;
            height: 100%;
            border: none;
        }

        .annotations-list {
            display: flex; flex-direction: column; gap: 12px;
        }
        .annotation-item {
            background: rgba(255,255,255,0.03); padding: 12px;
            border-radius: 6px; font-size: 0.9rem;
            display: flex; gap: 12px;
        }
        .timestamp { color: var(--accent-secondary); font-weight: 700; font-family: monospace; }

        /* Interactive Reflection */
        details {
            background: rgba(0,0,0,0.2);
            border-radius: 8px;
            margin-bottom: 12px;
            border: 1px solid var(--border-glass);
            overflow: hidden;
        }
        summary {
            padding: 16px;
            cursor: pointer;
            font-weight: 600;
            list-style: none;
            display: flex; justify-content: space-between; align-items: center;
            transition: background 0.2s;
        }
        summary:hover { background: rgba(255,255,255,0.05); }
        summary::after { content: '+'; font-size: 1.2rem; }
        details[open] summary::after { content: '-'; }
        .reflection-content {
            padding: 16px;
            background: rgba(0,0,0,0.3);
            color: var(--text-muted);
            border-top: 1px solid var(--border-glass);
        }

        /* Data Vis */
        .chart-bar {
            display: flex; align-items: center; margin-bottom: 12px;
        }
        .bar-label { width: 120px; font-size: 0.85rem; color: var(--text-muted); }
        .bar-track { flex: 1; height: 10px; background: rgba(255,255,255,0.1); border-radius: 5px; overflow: hidden; }
        .bar-fill { height: 100%; background: var(--accent-success); border-radius: 5px; width: 0; transition: width 1s ease-out; }
        .bar-value { width: 40px; text-align: right; font-size: 0.85rem; margin-left: 10px; }

        /* Footer */
        footer {
            margin-top: 60px;
            border-top: 1px solid var(--border-glass);
            background: rgba(15, 23, 42, 0.5);
        }
        .footer-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 40px 0;
            gap: 16px;
        }
        .footer-links {
            display: flex;
            gap: 20px;
        }
        .footer-link {
            color: var(--text-muted);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
            transition: color 0.2s;
        }
        .footer-link:hover { color: var(--accent-primary); }

        /* Mobile */
        @media (max-width: 768px) {
            .header-content { flex-direction: column; gap: 16px; }
            nav { overflow-x: auto; width: 100%; padding-bottom: 8px; justify-content: center; }
            .tabs { padding: 0 16px; overflow-x: auto; }
            .tab-btn { white-space: nowrap; }
            .project-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

    <div class="background-gradient"></div>
    
    <!-- Navigation / Header -->
    <header>
        <div class="container header-content">
            <div class="brand">
                <h1>Clinical<span class="highlight">Portfolio</span></h1>
                <p class="role">Secondary Mathematics Educator</p>
            </div>
            <nav>
                <a href="#learner" class="nav-link active">The Learner</a>
                <a href="#content" class="nav-link">Content</a>
                <a href="#instruction" class="nav-link">Instruction</a>
                <a href="#responsibility" class="nav-link">Responsibility</a>
            </nav>
        </div>
    </header>

    <main class="container">
        <!-- Intro Context -->
        <section class="portfolio-intro">
            <h2>Evidence of Practice</h2>
            <p>
                Welcome to my clinical e-portfolio. This collection demonstrates my alignment with 
                <strong>InTASC Standards</strong> through a cycle of planning, instruction, and assessment.
            </p>
            
            <div class="bio-card">
                <span class="bio-title">About Me</span>
                <p class="bio-text">
                    I am an innovative <strong>STEM Educator</strong> with a <strong>B.Eng in Mechanical Engineering</strong> and over three years of international teaching experience in Vietnam. I specialize in bridging abstract theoretical concepts with physical reality through Inquiry-Based Learning (IBL).
                    <br><br>
                    Currently finalizing my <strong>U.S. Teaching License</strong> with a focus on Inclusive Pedagogy, I combine engineering precision with holistic student care to build confidence in young learners. My classroom is a laboratory where mathematical variables become bridge supports and scientific laws explain everyday phenomena. I have a proven track record of raising assessment scores by 15% through data-driven instruction.
                </p>
                <a href="https://drive.google.com/file/d/1T4n14eJovYcwi9l3vFd_Qc8w_GVE4tvC/view?usp=sharing" target="_blank" class="resume-btn" title="View Full Resume">
                    <i data-lucide="file-text"></i> Download Resume
                </a>
            </div>
        </section>

        <!-- Domain 1: The Learner & Learning -->
        <section id="learner" class="domain-section">
            <div class="domain-header">
                <i data-lucide="users" class="domain-icon"></i>
                <div>
                    <h3>The Learner & Learning</h3>
                    <p>Evidence of differentiating instruction for diverse needs (Standards 1–3).</p>
                </div>
            </div>
            <div class="project-grid" id="grid-learner">
                <!-- Injected via JS -->
            </div>
        </section>

        <!-- Domain 2: Content Knowledge -->
        <section id="content" class="domain-section">
            <div class="domain-header">
                <i data-lucide="book-open" class="domain-icon"></i>
                <div>
                    <h3>Content Knowledge</h3>
                    <p>Evidence of subject mastery and pedagogical content knowledge (Standards 4–5).</p>
                </div>
            </div>
            <div class="project-grid" id="grid-content">
                <!-- Injected via JS -->
            </div>
        </section>

        <!-- Domain 3: Instruction -->
        <section id="instruction" class="domain-section">
            <div class="domain-header">
                <i data-lucide="compass" class="domain-icon"></i>
                <div>
                    <h3>Instruction</h3>
                    <p>Evidence of planning, assessment strategies, and engagement (Standards 6–8).</p>
                </div>
            </div>
            <div class="project-grid" id="grid-instruction">
                <!-- Injected via JS -->
            </div>
        </section>

        <!-- Domain 4: Professional Responsibility -->
        <section id="responsibility" class="domain-section">
            <div class="domain-header">
                <i data-lucide="shield-check" class="domain-icon"></i>
                <div>
                    <h3>Professional Responsibility</h3>
                    <p>Evidence of collaboration, ethical practice, and growth (Standards 9–10).</p>
                </div>
            </div>
            <div class="project-grid" id="grid-responsibility">
                <!-- Injected via JS -->
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer>
        <div class="container footer-content">
            <p style="color: var(--text-muted); font-size: 0.9rem;">© 2025 Clinical Portfolio. Built with Inquiry & Code.</p>
            <div class="footer-links">
                <a href="#" class="footer-link"><i data-lucide="mail" width="16"></i> Contact</a>
                <a href="#" class="footer-link"><i data-lucide="linkedin" width="16"></i> LinkedIn</a>
                <a href="#" class="footer-link"><i data-lucide="twitter" width="16"></i> Twitter</a>
            </div>
        </div>
    </footer>

    <!-- The "Clinical Cycle" Modal -->
    <div class="modal-overlay" id="modalOverlay" aria-hidden="true">
        <div class="modal-content" role="dialog" aria-labelledby="modalTitle">
            <button class="close-btn" id="closeModal" aria-label="Close Modal">&times;</button>
            
            <div class="modal-header">
                <div class="badges" id="modalBadges"></div>
                <h2 id="modalTitle">Project Title</h2>
                <p id="modalSummary">Summary text goes here.</p>
            </div>

            <!-- The "Before / During / After" Tabs -->
            <div class="tabs">
                <button class="tab-btn active" data-tab="before">A. The Before (Planning)</button>
                <button class="tab-btn" data-tab="during">B. The During (Instruction)</button>
                <button class="tab-btn" data-tab="after">C. The After (Impact)</button>
            </div>

            <div class="modal-body">
                <!-- Tab: Before -->
                <div class="tab-content active" id="tab-before">
                    <div class="content-block">
                        <h4><i data-lucide="map-pin"></i> Context for Learning</h4>
                        <div class="info-card" id="modalContext">
                            <!-- Context Data -->
                        </div>
                    </div>
                    <div class="content-block">
                        <h4><i data-lucide="file-text"></i> Artifacts & Rationale</h4>
                        <div class="resource-links" id="modalPlanningArtifacts"></div>
                    </div>
                </div>

                <!-- Tab: During -->
                <div class="tab-content" id="tab-during">
                    <div class="video-section">
                        <h4><i data-lucide="video"></i> Video Evidence</h4>
                        <p class="note" style="color:var(--text-muted); margin-bottom:12px; font-size:0.9rem;">Annotated clips demonstrating InTASC alignment.</p>
                        <div class="video-placeholder" id="modalVideoEmbed">
                            <span>Video Player Placeholder</span>
                        </div>
                        <div class="annotations-list" id="modalAnnotations">
                            <!-- Annotations injected here -->
                        </div>
                    </div>
                </div>

                <!-- Tab: After -->
                <div class="tab-content" id="tab-after">
                    <div class="content-block">
                        <h4><i data-lucide="bar-chart-2"></i> Assessment Data & Growth</h4>
                        <div class="chart-container" id="modalChart">
                            <!-- JS Generated Chart -->
                        </div>
                    </div>
                    
                    <div class="content-block">
                        <h4><i data-lucide="layers"></i> Student Work Samples</h4>
                        <div class="work-samples" id="modalSamples">
                            <!-- Work samples -->
                        </div>
                    </div>

                    <div class="content-block">
                        <h4><i data-lucide="brain-circuit"></i> Interactive Reflection (Gibbs' Cycle)</h4>
                        <div class="reflection-container" id="modalReflection">
                            <!-- Interactive Details/Summary elements -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        /**
         * CLINICAL PORTFOLIO DATA ENGINE
         * Maps user artifacts to InTASC Domains with Before/During/After logic.
         */

        const portfolioData = [
            // --- DOMAIN 1: THE LEARNER & LEARNING ---
            {
                id: "learner-1",
                domain: "learner",
                title: "Standard 1: Learner Development",
                tags: ["InTASC 1", "Development", "Video Analysis"],
                summary: "Connecting percent and proportion using bar models vs. formal proportions.",
                
                // A. THE BEFORE (Planning)
                context: "<strong>Setting:</strong> Grade 7 Mathematics.<br><strong>Demographics:</strong> 28 students. Primary language: Vietnamese. ~8 ELLs, ~10 Low Attention. <br><strong>Prior Knowledge:</strong> Equivalent fractions/ratios.<br><strong>Specific Needs:</strong> 'Khan' (Gifted), 'Candy' (Fatigue), 'OOO' (Non-participant).",
                artifacts: [
                    { label: "View Lesson Plan", url: "https://docs.google.com/document/d/1Q8mjKL3_KZDq2v3SqnVFPwQJ1DeLux19oNAZneA1RnQ/edit?usp=sharing", icon: "file-text" },
                    { label: "Context Rationale", url: "#", icon: "video" }
                ],

                // B. THE DURING (Instruction)
                videoUrl: "https://www.youtube.com/embed/woCjnFzdz4k", // Baseline Video
                annotations: [
                    { time: "02:14", text: "Differentiation: Visual-first instruction (bar models) for ELL support (InTASC 2)." },
                    { time: "05:30", text: "Scaffolding: 6-8 min task sprints with micro-checks for low attention students." },
                    { time: "12:45", text: "Check for Understanding: Whiteboard check." }
                ],

                // C. THE AFTER (Impact)
                chartData: [
                    { label: "Engagement", value: 65, max: 100 },
                    { label: "Completion", value: 80, max: 100 }
                ],
                workSamples: [
                    { title: "High Proficiency", desc: "Student demonstrated full concept mastery.", status: "strong" },
                    { title: "Approaching", desc: "Minor calculation errors, logic sound.", status: "avg" }
                ],
                reflections: [
                    { q: "What went well?", a: "The visual anchors (bar models) helped ELL students engage immediately. Concrete-to-representational sequence was effective." },
                    { q: "What would I change?", a: "I need to post one measurable objective and reference it. I will run stations as 4x8 min rounds and move the cards, not the students, to improve flow." },
                    { q: "Misconceptions?", a: "Linear vs proportional origin requirement unclear." }
                ]
            },
            {
                id: "learner-2",
                domain: "learner",
                title: "Inclusive Environments (Std 1-3)",
                tags: ["InTASC 3", "Culture", "Inclusion"],
                summary: "Building on students' cultural and lived experiences to create meaningful mathematical modeling opportunities.",
                
                context: "<strong>Focus:</strong> Mathematical Modeling.<br><strong>Strategy:</strong> Connecting math to local community issues to increase relevance.",
                artifacts: [
                    { label: "View Lesson Plan", url: "https://docs.google.com/document/d/1Q8mjKL3_KZDq2v3SqnVFPwQJ1DeLux19oNAZneA1RnQ/edit?usp=sharing", icon: "file-text" }
                ],
                videoUrl: "https://www.youtube.com/embed/woCjnFzdz4k", // Reusing baseline as it covers InTASC 1-3
                annotations: [
                    { time: "01:20", text: "Hook: Used local news story to introduce variables." },
                    { time: "08:15", text: "Collaboration: Grouped students by mixed ability levels." }
                ],
                chartData: [],
                workSamples: [],
                reflections: [
                    { q: "How did I foster inclusion?", a: "By allowing students to choose data sets from their own neighborhoods." }
                ]
            },
            {
                id: "learner-3",
                domain: "learner",
                title: "Cohort Presentation: InTASC Standard 2",
                tags: ["InTASC 2", "Inclusion", "Professional Learning"],
                summary: "A professional presentation delivered to peers on 'Embracing Learning Differences' through student-centered math instruction.",
                
                // A. BEFORE
                context: "<strong>Task:</strong> Teach InTASC Standard 2 to cohort.<br><strong>Audience:</strong> Teacher candidates.<br><strong>Goal:</strong> Model inclusive strategies like UDL and Culturally Responsive Teaching.",
                artifacts: [
                    { label: "View Presentation Slides", url: "https://docs.google.com/presentation/d/1U4URSyzC_NYHDtWVMzX0DtnCkYWJ-UHH/edit?usp=sharing", icon: "presentation" }
                ],

                // B. DURING
                videoUrl: "https://drive.google.com/file/d/1rg9-_R4510ed2AR6VqgyeaM6dZwroZsd/view?usp=drivesdk",
                annotations: [
                    { time: "Strategy", text: "Culturally Responsive Math: Revising familiar tasks to reflect student cultures." },
                    { time: "Tech Integration", text: "Leveraging Desmos & IXL for adaptive practice and differentiation." },
                    { time: "Intervention", text: "RTI Framework: Identify -> Targeted Instruction -> Monitor -> Adjust." }
                ],

                // C. AFTER
                chartData: [], // Not applicable for a slide deck presentation
                workSamples: [
                    { title: "Key Takeaway", desc: "Explicitly teach concepts before procedures to ensure access for all learners.", status: "strong" },
                    { title: "Reflection Prompt", desc: "How would you know every learner can access the concept without lowering rigor?", status: "strong" }
                ],
                reflections: [
                    { q: "Core Philosophy?", a: "Every learner brings linguistic and cultural assets. Design flexibly with multiple entry points." },
                    { q: "Next Steps?", a: "Implement one culturally responsive task this month and survey students on interests." }
                ]
            },

            // --- DOMAIN 2: CONTENT KNOWLEDGE ---
            {
                id: "content-1",
                domain: "content",
                title: "Mathematical Modeling in Practice",
                tags: ["InTASC 4", "Math Content", "Modeling"],
                summary: "Demonstrating deep content knowledge by guiding students through the abstract-to-concrete modeling process.",
                
                context: "<strong>Subject:</strong> Secondary Math (7.RP.A.2/3).<br><strong>Standard:</strong> Modeling with Functions.<br><strong>Challenge:</strong> Students struggle with abstracting real-world problems.",
                artifacts: [
                    { label: "Modeling Rubric", url: "#", icon: "clipboard" }
                ],
                videoUrl: "https://www.youtube.com/embed/04wJaVfhgVA", // Part 2
                annotations: [
                    { time: "04:00", text: "Precision: Correcting student use of 'slope' vs 'rate of change'." },
                    { time: "10:00", text: "Multiple Representations: Showing the graph, table, and equation simultaneously." }
                ],
                chartData: [
                    { label: "Concept Grasp", value: 85, max: 100 },
                    { label: "Vocab Usage", value: 70, max: 100 }
                ],
                workSamples: [],
                reflections: [
                    { q: "Content Barrier?", a: "Students confused linear vs proportional relationships; the origin requirement was unclear." },
                    { q: "Remediation?", a: "Addressed with class discussion. Will add an anchor chart and a quick sort task." }
                ]
            },
            {
                id: "content-2",
                domain: "content",
                title: "Factoring Expressions: Distributive Property & GCF",
                tags: ["InTASC 4", "InTASC 5", "Conceptual Understanding"],
                summary: "Using 'Gamification' and 'Debate' to teach factoring, moving students from procedural fluency to real-world application.",

                // A. THE BEFORE (Planning)
                context: "<strong>Duration:</strong> 80 Minutes.<br><strong>Standards:</strong> 7.EE.A.1, 7.EE.A.2.<br><strong>Contexts:</strong> Supply Kits & Mural Area Models.<br><strong>Goal:</strong> Fluency between expanded and factored forms.",
                artifacts: [
                    { label: "View Lesson Plan", url: "https://docs.google.com/document/d/1Xl0E1Q3VfL7o5q9zP8k4_x2j3M/edit?usp=sharing", icon: "file-text" },
                    { label: "Full Teacher Reflection", url: "https://docs.google.com/document/d/1AKE3GSEnBtPQBMVw0dabk6lXVoT8pZOaKoO-9gpVzfU/edit?usp=sharing", icon: "file-text" }
                ],

                // B. THE DURING (Instruction)
                videoUrl: "https://www.youtube.com/embed/roZmjjAAfPw", // Part 1
                annotations: [
                    { time: "00:00", text: "Clip 1: Introduction/Hook (Engagement)" },
                    { time: "05:00", text: "Clip 2: Student-Teacher Interaction (Questioning strategies)" },
                    { time: "Engagement", text: "'Star System' and 'Team 1 vs Team 2' gamification kept energy high." },
                    { time: "Debate", text: "Supply Kit activity turned into 'Maximization vs. Value' debate." }
                ],

                // C. THE AFTER (Impact)
                chartData: [
                    { label: "Procedural Fluency", value: 90, max: 100 },
                    { label: "Real-World App", value: 75, max: 100 }
                ],
                workSamples: [
                    { title: "Warm-up Matching", desc: "Most students correctly identified GCF.", status: "strong" },
                    { title: "Mural Problem (Khan)", desc: "Student drew diagram to explain dimensions (differentiation evidence).", status: "strong" }
                ],
                reflections: [
                    { q: "What exceeded expectations?", a: "The 'Maximization vs. Value' debate. It showed critical thinking but drifted into philosophy." },
                    { q: "Adjustments for next time?", a: "Implement a 'Data-Based Rebuttal' activity where arguments must use the numbers." },
                    { q: "Management note?", a: "Transition after break was too loose. Will add a 'Do Now' immediately upon return." },
                    { q: "Conceptual Rigor?", a: "The 'explain to a 2-year-old' prompt successfully assessed deep understanding, forcing students to explain distribution mechanics beyond simple matching." }
                ]
            },


            // --- DOMAIN 3: INSTRUCTION ---
            {
                id: "instruction-1",
                domain: "instruction",
                title: "Data-Driven Instruction Cycle",
                tags: ["InTASC 6", "Assessment", "Data"],
                summary: "A 12-week cycle of diagnostic, mid-point, and final assessments used to tailor instruction.",
                
                context: "<strong>Goal:</strong> Track 3 specific learning objectives over 12 weeks.<br><strong>Method:</strong> Formative assessment loop (Diagnostic, Mid-point, Final).",
                artifacts: [
                    { label: "Data Collection Template", url: "https://docs.google.com/document/d/1YNIOvOGS77I3ARHNwRVrLYF78u_Irw0VB051B9FRjp0/edit?usp=sharing", icon: "file-text" },
                    { label: "Data Spreadsheet", url: "https://docs.google.com/spreadsheets/d/1S6Nq1mop1G37Q8_Kva7abx52MiZiA43VO_SiSyLtQxE/edit?usp=sharing", icon: "table" }
                ],
                videoUrl: "#", // No specific video for data cycle, maybe a walkthrough
                annotations: [
                    { time: "N/A", text: "See 'Impact' tab for visual data analysis." }
                ],
                chartData: [
                    { label: "Diagnostic (Wk 1)", value: 45, max: 100 },
                    { label: "Mid-Point (Wk 6)", value: 72, max: 100 },
                    { label: "Final (Wk 12)", value: 88, max: 100 }
                ],
                workSamples: [
                    { title: "Data Analysis", desc: "Uneven station completion. Many could compute 75% but misidentified part/whole.", status: "avg" },
                    { title: "Intervention", desc: "Grouping by need: Reteach (Part/Whole), Apply (Mixed problems), Extend (Reverse-percent).", status: "strong" }
                ],
                reflections: [
                    { q: "How did data drive instruction?", a: "Exit tickets showed specific gaps. I planned next-day groups: Reteach group uses bar models for units; Extend group creates >100% contexts." }
                ]
            },
            {
                id: "instruction-2",
                domain: "instruction",
                title: "AI-Assisted Inquiry: Simple Interest",
                tags: ["InTASC 8", "EdTech", "Differentiation"],
                summary: "Integrating AI tools (Quizizz, ChatGPT) to differentiate simple interest instruction and real-world application.",

                // A. THE BEFORE (Planning)
                context: "<strong>Setting:</strong> 80-minute block, Grade 7.<br><strong>Standards:</strong> 7.RP.A.2, 7.RP.A.3, 7.EE.B.3.<br><strong>Tool:</strong> Google Doc prompts + Quizizz AI.<br><strong>Objective:</strong> Students use AI to generate and solve personalized interest problems.",
                artifacts: [
                    { label: "View Lesson Plan", url: "https://docs.google.com/document/d/1Im32OuG8V8Hw7Rj9AzqSsBXnUW3O9-ad/edit?usp=sharing&ouid=115661812924853569275&rtpof=true&sd=true", icon: "file-text" },
                    { label: "Full Teacher Reflection", url: "https://docs.google.com/document/d/11jBPpaUXgDHcQLSgQca2adRIJcVRg4bhU7SRkaHKBqs/edit?usp=sharing", icon: "file-text" }
                ],

                // B. THE DURING (Instruction)
                videoUrl: "https://www.youtube.com/embed/woCjnFzdz4k", // No video URL provided yet
                annotations: [
                    { time: "15:00", text: "Engagement: Gamification via 'Team' system and 'Star/Point' rewards." },
                    { time: "30:00", text: "Formative Check: Mini-whiteboards used before digital tools to ensure foundational grasp." }
                ],

                // C. THE AFTER (Impact)
                chartData: [
                    { label: "Computational Fluency", value: 85, max: 100 },
                    { label: "Concept Application", value: 70, max: 100 }
                ],
                workSamples: [
                    { title: "Team 2 (Advanced)", desc: "Mastered basics early; ready for summative project.", status: "strong" },
                    { title: "Team 1 (Developing)", desc: "Struggled with focus; requires structured checklists next time.", status: "avg" }
                ],
                reflections: [
                    { q: "What went wrong?", a: "The 'My Bank vs New Bank' manual inquiry took 20 mins, eating into the AI time. I had to bypass student-led AI generation." },
                    { q: "Future Adjustment?", a: "Next time, I will pre-load the AI scenarios into the Doc to save login/setup time and condense the manual graphing portion." },
                    { q: "UDL?", a: "Multiple means of representation (verbal, notes, visuals)." },
                    { q: "Key Misconception?", a: "Students struggled to map the algebraic variables ($y=kx$) to financial terms ($I=Prt$) until we used peer discussion to bridge the abstract and concrete." }
                ]
            },
            {
                id: "instruction-3",
                domain: "instruction",
                title: "Authentic Assessment: Supply Kits & Mural Design",
                tags: ["InTASC 5", "Performance Task", "Authentic"],
                summary: "Students interpret real-world scenarios, write expressions, and justify design decisions using factoring (Supply Kits or Murals).",

                // A. THE BEFORE (Planning)
                context: "<strong>Overview:</strong> Design a supply kit or mural using factored expressions.<br><strong>Standards:</strong> 7.EE.A.1 (Factor), 7.EE.A.2 (Interpret).<br><strong>Goal:</strong> Interpret real-world scenarios (e.g., 12 notebooks, 18 pens), write expressions, and justify design decisions.",
                artifacts: [
                    { label: "View Assessment & Rubric", url: "https://1drv.ms/w/c/d85f6f7f8299eaa5/IQCm2yfJhlYcRJOBbOkwAdppAYrKvQ-gpG7OfrI_Z8rF1pg", icon: "file-text" }
                ],

                // B. THE DURING (Instruction/Assessment)
                videoUrl: "#",
                annotations: [
                    { time: "Launch", text: "Review GCF/Distributive Property with whiteboard checks." },
                    { time: "Planning", text: "Students choose scenario (Kits/Mural) and draft expressions." },
                    { time: "Feedback", text: "Peer Review: Pairs use simplified rubric checklist to revise designs." },
                    { time: "Closure", text: "Micro-Presentations & Reflection on factoring utility." }
                ],

                // C. THE AFTER (Impact/Evaluation)
                chartData: [
                    { label: "Math Accuracy", value: 88, max: 100 },
                    { label: "Reasoning Depth", value: 75, max: 100 }
                ],
                workSamples: [
                    { title: "Rubric 1: Math Accuracy", desc: "Proficient: Correct factorization; GCF identified; explanation understandable.", status: "strong" },
                    { title: "Rubric 2: Real-World Context", desc: "Proficient: Scenario described with relevant quantities; factored form interpreted (e.g., number of kits).", status: "strong" },
                    { title: "Rubric 3: Academic Language", desc: "Proficient: Uses key terms (factor, GCF, distributive) accurately in complete sentences.", status: "strong" },
                    { title: "Rubric 4: Critical Thinking", desc: "Proficient: Evaluates different grouping/dimension options; justifies choice using math.", status: "strong" }
                ],
                reflections: [
                    { q: "Rationale?", a: "Mirrors real-world problem solving. Students apply factoring not in isolation but as a tool for decision making." },
                    { q: "Formative Use?", a: "Students self-assess plan drafts before final production to internalize quality indicators." }
                ]
            },
            {
                id: "instruction-4",
                domain: "instruction",
                title: "Clinical Data Collection 2: Mid-Point Assessment",
                tags: ["InTASC 6", "Data Analysis", "Differentiation"],
                summary: "Mid-point analysis of student growth, identifying specific gaps in multi-step operations and precision language.",

                // A. THE BEFORE (Planning)
                context: "<strong>Focus:</strong> Reviewing goals from M8U2.<br><strong>Students:</strong> Student 1 (Advanced), Student 2 (Special Needs), Student 3 (ELL).<br><strong>Objective:</strong> Assess growth in efficiency and calculation accuracy.",
                artifacts: [
                    { label: "View Data Collection Template", url: "https://docs.google.com/document/d/1vivUNTbDP1ILuMEG4aUfZB2kRAiaz-k3Nvit2ryO7KM/edit?usp=sharing", icon: "file-text" },
                    { label: "Spreadsheet (Same Link)", url: "https://docs.google.com/spreadsheets/d/1S6Nq1mop1G37Q8_Kva7abx52MiZiA43VO_SiSyLtQxE/edit?usp=sharing", icon: "table" }
                ],

                // B. THE DURING (Instruction/Assessment)
                videoUrl: "#", 
                annotations: [
                    { time: "Strategy", text: "Data-Driven Instruction: Vocab Match game to address 'Principal' confusion." },
                    { time: "Activity", text: "Error Analysis: Whole class 'Find and Fix' the sign error." }
                ],

                // C. THE AFTER (Impact/Evaluation)
                chartData: [
                    { label: "Calculation Accuracy", value: 78, max: 100 },
                    { label: "Reasoning Precision", value: 65, max: 100 }
                ],
                workSamples: [
                    { title: "Focus Student 1 (Meeting)", desc: "Showed growth in cross-simplification strategies.", status: "strong", url: "https://drive.google.com/file/d/1Dck4nFqLhYdyP7GR0GDsexPLQi7OJpAi/view?usp=drive_link" },
                    { title: "Focus Student 2 (Needs Support)", desc: "Sign Error: Added (16+9) instead of subtracting. Needs visual support.", status: "avg", url: "https://drive.google.com/file/d/1xNpRX2IdtoJ7kElZ2J-cpndUxvdjGTPU/view?usp=drive_link" },
                    { title: "Focus Student 3 (ELL)", desc: "Precision error: Rounded 3.96 up incorrectly. Needs vocab practice.", status: "avg", url: "https://drive.google.com/file/d/1gL5ZJSJjpfTxLl7u9Rag8bwckQ1dQRZ1/view?usp=drive_link" }
                ],
                reflections: [
                    { q: "Growth Observed?", a: "Student 1 uses cross-simplification. Student 3 improved accuracy via visuals but struggles with nuance." },
                    { q: "Plan for Next Lesson?", a: "Use Algebra Tiles for Student 2 to visualize +/-, and challenge Student 1 with 'Banker's Dilemma'." }
                ]
            },
            {
                id: "instruction-5",
                domain: "instruction",
                title: "Reflection: Assessment Strategy & Data-Driven Instruction",
                tags: ["InTASC 6", "InTASC 9", "Reflection"],
                summary: "A capstone reflection on the Clinical Practice assessment cycle (Unit 2 vs. Unit 6) and future planning for Unit 9.",

                // A. THE BEFORE (Context/History)
                context: "<strong>Unit 2 Baseline:</strong> Paper-pencil task. Revealed ELL linguistic gaps (e.g., 'registration fee').<br><strong>Unit 6 Mid-Term:</strong> Take-home summative. Resulted in 'noisy' data due to lack of environment control.",
                artifacts: [
                    { label: "Read Full Reflection", url: "#", icon: "file-text" }
                ],

                // B. THE DURING (Analysis/Process)
                videoUrl: "#",
                annotations: [
                    { time: "Key Insight", text: "Logistics are as important as content. Take-home tasks mask true learning gaps." },
                    { time: "Student C", text: "Failure was due to linguistic complexity, not math skill. Needs reduced linguistic load." }
                ],

                // C. THE AFTER (Future Plan/Unit 9)
                chartData: [],
                workSamples: [
                    { title: "Change 1: Environment", desc: "Final task will be in-class to observe the 'struggle' directly.", status: "strong" },
                    { title: "Change 2: Collaboration", desc: "Formal rubric for collaboration to push Student B into leadership roles.", status: "strong" }
                ],
                reflections: [
                    { q: "Why change strategy?", a: "To remove the guesswork. I need to know if they learned it, not just if they turned it in." },
                    { q: "differentiation plan?", a: "Student A moves to 'Analysis' (why it works); Student C gets linguistic scaffolds." }
                ]
            },
            {
                id: "instruction-6",
                domain: "instruction",
                title: "Instructional Practice: Two-Step Equations",
                tags: ["InTASC 7", "InTASC 8", "Video Analysis"],
                summary: "Demonstrating effective planning and instructional strategies through a lesson on solving two-step equations.",

                // A. THE BEFORE (Planning)
                context: "<strong>Objective:</strong> Solve 2-step equations ($3m+6=21$).<br><strong>Strategy:</strong> Concrete (Bar Model) to Abstract (Algebra).<br><strong>Differentiation:</strong> Pre-printed templates for Group A; 'Party Problem' extension for Group B.",
                artifacts: [
                    { label: "View Lesson Plan", url: "https://drive.google.com/file/d/11_Snbvg6y4gXzcWVGPd4OA-XhS9nsjkc/view", icon: "file-text" }
                ],

                // B. THE DURING (Instruction)
                videoUrl: "https://www.youtube.com/embed/YCA8llB3LZ4", // Video 1
                annotations: [
                    { time: "Review", text: "Review of one-step inverses to build confidence (InTASC 7)." },
                    { time: "Assessment", text: "Mini-Whiteboard 'Flash Checks' for immediate diagnostic data (InTASC 6)." },
                    { time: "Strategy", text: "Error Analysis Activity (Oliver's Mistake) to normalize failure (InTASC 8)." }
                ],

                // C. THE AFTER (Impact/Reflection)
                chartData: [
                    { label: "Solving Accuracy", value: 90, max: 100 },
                    { label: "Arithmetic Fluency", value: 70, max: 100 }
                ],
                workSamples: [
                    { title: "Success", desc: "Majority correctly set up 3x+6=21.", status: "strong" },
                    { title: "Challenge", desc: "Decimal arithmetic errors persisted. Need 'Math Gym' warm-up next time.", status: "avg" }
                ],
                reflections: [
                    { q: "Instructional Strategy Effectiveness?", a: "Mini-whiteboards were crucial for 'verifying learning in the moment' (InTASC 6)." },
                    { q: "Improvement needed?", a: "Wait Time. I jumped in too fast to scaffold answers. Need to allow 10s think time." }
                ]
            },
            {
                id: "resp-3",
                domain: "responsibility",
                title: "Student Case Study: 'David'",
                tags: ["InTASC 9", "InTASC 10", "Case Study"],
                summary: "A deep-dive investigation into a discrepancy between a student's high comprehension and low productive speaking scores.",

                // A. THE BEFORE (Context)
                context: "<strong>Student:</strong> 'David' (Pseudonym).<br><strong>Issue:</strong> Performance Anxiety causing a drop in speaking scores despite perfect grammar/vocab in low-stakes tasks.<br><strong>Goal:</strong> Reduce affective filter to improve oral output.",
                artifacts: [
                    { label: "View Case Study Presentation", url: "https://www.canva.com/design/DAG7Glo66qU/HGlhu2ubmyUL6SnskBC-rw/view?utm_content=DAG7Glo66qU&utm_campaign=designshare&utm_medium=link2&utm_source=uniquelinks&utlId=h3980fcde0a&authuser=0", icon: "presentation" }
                ],

                // B. THE DURING (Process)
                videoUrl: "https://drive.google.com/file/d/1TY1vdn8k8Ojv69QIdqAZn54dLogQaWQI/view?usp=drivesdk", 
                annotations: [
                    { time: "Data Analysis", text: "Noticed drastic drop in speaking scores vs high comprehension." },
                    { time: "Hypothesis", text: "Performance Anxiety blocks retrieval during high-pressure tasks." },
                    { time: "Intervention", text: "Implemented 'Extended Wait Time' (15+ seconds) to lower affective filter." }
                ],

                // C. THE AFTER (Impact)
                chartData: [
                    { label: "Comprehension", value: 95, max: 100 },
                    { label: "Speaking (High Pressure)", value: 40, max: 100 },
                    { label: "Speaking (Low Pressure)", value: 90, max: 100 }
                ],
                workSamples: [
                    { title: "Standardized Test", desc: "High Comprehension, Low Speaking scores.", status: "avg" },
                    { title: "Classroom Task", desc: "'Describe the picture' - Perfect grammar & vocabulary when relaxed.", status: "strong" }
                ],
                reflections: [
                    { q: "Key Insight?", a: "The problem wasn't ability, it was anxiety. Traditional rapid-fire questioning was harming this student." },
                    { q: "Next Steps?", a: "Continue 15s wait time and implement 'Think-Pair-Share' to validate answers before public speaking." }
                ]
            },

            // --- DOMAIN 4: PROFESSIONAL RESPONSIBILITY ---
            {
                id: "resp-1",
                domain: "responsibility",
                title: "Mentor Debrief & Collaboration",
                tags: ["InTASC 9", "Professional Growth", "Feedback"],
                summary: "Evidence of professional learning through structured mentorship cycles and peer collaboration.",
                
                context: "<strong>Activity:</strong> Post-observation debrief.<br><strong>Focus:</strong> Accepting feedback and implementing change.",
                artifacts: [
                    { label: "Debrief Recording", url: "#", icon: "mic" }
                ],
                videoUrl: "#",
                annotations: [
                    { time: "00:00", text: "Discussion of student engagement data." },
                    { time: "05:00", text: "Action plan set for next observation." }
                ],
                chartData: [],
                workSamples: [],
                reflections: [
                    { q: "Key Takeaway?", a: "My wait time was too short. I need to allow 5-7 seconds for processing." }
                ]
            },
            {
                id: "resp-2",
                domain: "responsibility",
                title: "Leadership Project: Free Reading Book Club",
                tags: ["InTASC 10", "Leadership", "Literacy"],
                summary: "A proposal to establish a voluntary reading club that fosters a love for reading and intercultural awareness outside the classroom.",
                
                // A. BEFORE (Planning)
                context: "<strong>Goal:</strong> Improve reading comprehension/fluency in a low-stress environment.<br><strong>Alignment:</strong> Supports school mission of 'lifelong learners'.<br><strong>Format:</strong> Weekly 45-60 min sessions in Language Center.",
                artifacts: [
                    { label: "View Project Proposal", url: "https://docs.google.com/document/d/1iVksrs2plNfYZyZa5Vthd00oBwbP7mtyXrn4_kgAPXY/edit?usp=sharing", icon: "file-text" },
                    { label: "View Project Evidence", url: "https://drive.google.com/file/d/1cr4LNnp2M1IvwfA1yHIH4SZBrU8qzpgk/view?usp=sharing", icon: "file-check" },
                    { label: "Club Artifact 1", url: "https://drive.google.com/file/d/1HtbVcMPuUcukCDKobyo_VlPRXarMhCIc/view?usp=drivesdk", icon: "image" },
                    { label: "Club Artifact 2", url: "https://drive.google.com/file/d/1gvf37NZ6TT8jq7wWn6cJi6DdkTrttZKE/view?usp=drivesdk", icon: "image" },
                    { label: "Club Artifact 3", url: "https://drive.google.com/file/d/1JfkBk9_nKpHSYBRAIjVN2rRgV6sHn9_H/view?usp=drivesdk", icon: "image" }
                ],

                // B. DURING (Structure/Implementation)
                videoUrl: "#", 
                annotations: [
                    { time: "Structure", text: "Free-choice reading from leveled/high-interest global texts." },
                    { time: "Activity", text: "Small-group discussions focused on meaning-making, not grades." },
                    { time: "Community", text: "Guest readers (librarians, authors) to build partnerships." }
                ],

                // C. AFTER (Impact/Evaluation)
                chartData: [
                    { label: "Target: Confidence", value: 90, max: 100 },
                    { label: "Target: Stamina", value: 85, max: 100 }
                ], 
                workSamples: [
                    { title: "Success Metric 1", desc: "Student self-assessments on reading habits/attitudes.", status: "strong" },
                    { title: "Success Metric 2", desc: "Qualitative feedback surveys from parents and staff.", status: "strong" }
                ],
                reflections: [
                    { q: "Why this project?", a: "To create a safe, inclusive space where students express ideas freely and develop intercultural awareness." },
                    { q: "Expected Impact?", a: "Stronger relationships between faculty/students and increased student motivation to read." },
                    { q: "School Culture?", a: "Aligns with mission to develop lifelong learners." }
                ]
            },
            {
                id: "resp-4",
                domain: "responsibility",
                title: "Professional Development Plan (PDP)",
                tags: ["InTASC 9", "InTASC 10", "Growth"],
                summary: "A strategic roadmap for future growth focusing on Mathematical Identity, Neurodiversity, and AI integration.",
                
                // A. BEFORE
                context: "<strong>Focus:</strong> Bridging the confidence gap between STEM tasks and algebraic manipulation.<br><strong>Timeline:</strong> 2025-2027.",
                artifacts: [
                    { label: "View PDP Document", url: "https://docs.google.com/document/d/1sf4ok5indm3uKmvlxzPLhyXRkNG4cGUd8teaefIkZtM/edit?usp=sharing", icon: "file-text" }
                ],

                // B. DURING
                videoUrl: "#",
                annotations: [
                    { time: "Goal 1", text: "Identity: Normalizing error to transfer engineering resilience to math class." },
                    { time: "Goal 2", text: "Neurodiversity: Creating 'interactive checklists' to support executive function." },
                    { time: "Goal 3", text: "AI Inquiry: Moving AI from a teacher tool to a student Socratic tutor." }
                ],

                // C. AFTER
                chartData: [], 
                workSamples: [
                    { title: "Planned Activity", desc: "NCTM Annual Meeting & Exposition (Fall 2025).", status: "strong" },
                    { title: "Resource Study", desc: "'Mathematical Mindsets' by Jo Boaler.", status: "strong" }
                ],
                reflections: [
                    { q: "Core Realization?", a: "Students view engineering failure as design, but math error as deficit. My PDP aims to align these identities." }
                ]
            }
        ];

        // --- RENDER LOGIC ---

        function initPortfolio() {
            renderCards();
            setupTabs();
            setupModal();
        }

        // 1. Render Cards into Domains
        function renderCards() {
            portfolioData.forEach(item => {
                const container = document.getElementById(`grid-${item.domain}`);
                if(!container) return;

                const card = document.createElement('div');
                card.className = 'card';
                card.innerHTML = `
                    <div class="card-tags">
                        ${item.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
                    </div>
                    <h4>${item.title}</h4>
                    <p>${item.summary}</p>
                    <div class="card-footer">
                        <span>View Evidence</span>
                        <i data-lucide="arrow-right" width="16"></i>
                    </div>
                `;
                card.onclick = () => openModal(item.id);
                container.appendChild(card);
            });
            lucide.createIcons(); // Refresh icons
        }

        // 2. Modal Logic
        const modal = document.getElementById('modalOverlay');
        const closeModalBtn = document.getElementById('closeModal');

        function openModal(id) {
            const data = portfolioData.find(p => p.id === id);
            if(!data) return;

            // Header
            document.getElementById('modalTitle').innerText = data.title;
            document.getElementById('modalSummary').innerText = data.summary;
            document.getElementById('modalBadges').innerHTML = data.tags.map(t => `<span class="tag">${t}</span>`).join('');

            // A. BEFORE (Planning)
            document.getElementById('modalContext').innerHTML = data.context;
            document.getElementById('modalPlanningArtifacts').innerHTML = data.artifacts.map(art => `
                <a href="${art.url}" target="_blank">
                    <i data-lucide="${art.icon || 'link'}"></i> ${art.label}
                </a>
            `).join('');

            // B. DURING (Instruction)
            const videoContainer = document.getElementById('modalVideoEmbed');
            if (data.videoUrl && data.videoUrl !== '#') {
                let embedUrl = data.videoUrl;
                let isYouTube = data.videoUrl.includes('youtube') || data.videoUrl.includes('youtu.be');
                let fallbackUrl = data.videoUrl;
                let fallbackText = "Open Video in New Tab";

                if (isYouTube) {
                     // Extract ID from embed URL for the watch link fallback
                     const videoId = data.videoUrl.split('/').pop().split('?')[0];
                     fallbackUrl = `https://www.youtube.com/watch?v=${videoId}`;
                     fallbackText = "If video fails to load, watch on YouTube";
                } else if (data.videoUrl.includes('drive.google.com')) {
                    // Convert Drive /view to /preview for embedding
                    embedUrl = data.videoUrl.replace(/\/view.*/, '/preview');
                }

                videoContainer.innerHTML = `
                    <iframe class="video-iframe" 
                        src="${embedUrl}" 
                        title="Video player" 
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                        allowfullscreen
                        referrerpolicy="strict-origin-when-cross-origin">
                    </iframe>
                    <div style="text-align: center; margin-top: 10px;">
                        <a href="${fallbackUrl}" target="_blank" style="color: var(--text-muted); font-size: 0.8rem; text-decoration: none; display: inline-flex; align-items: center; gap: 4px;">
                            <i data-lucide="external-link" width="14"></i> ${fallbackText}
                        </a>
                    </div>
                `;
            } else {
                videoContainer.innerHTML = `<span>No Video Available</span>`;
            }
            
            document.getElementById('modalAnnotations').innerHTML = data.annotations.map(ann => `
                <div class="annotation-item">
                    <span class="timestamp">${ann.time}</span>
                    <span>${ann.text}</span>
                </div>
            `).join('');

            // C. AFTER (Impact)
            // Render Chart
            const chartContainer = document.getElementById('modalChart');
            if(data.chartData.length > 0) {
                chartContainer.innerHTML = data.chartData.map(d => `
                    <div class="chart-bar">
                        <span class="bar-label">${d.label}</span>
                        <div class="bar-track">
                            <div class="bar-fill" style="width: ${d.value}%"></div>
                        </div>
                        <span class="bar-value">${d.value}%</span>
                    </div>
                `).join('');
            } else {
                chartContainer.innerHTML = "<p class='text-muted'>No quantitative data for this artifact.</p>";
            }

            // Work Samples
            const samplesContainer = document.getElementById('modalSamples');
            if(data.workSamples.length > 0) {
                samplesContainer.innerHTML = data.workSamples.map(s => `
                    <div class="info-card" style="margin-bottom:10px;">
                        <strong>${s.title}</strong>
                        <p style="margin:0; font-size:0.9rem; color:#94a3b8;">${s.desc}</p>
                        ${s.url ? `<a href="${s.url}" target="_blank" style="display:inline-block; margin-top:8px; font-size:0.8rem; color:var(--accent-primary); text-decoration:underline;">View Work Sample &rarr;</a>` : ''}
                    </div>
                `).join('');
            } else {
                samplesContainer.innerHTML = "<p class='text-muted'>No samples uploaded.</p>";
            }

            // Reflection (Gibbs Cycle)
            document.getElementById('modalReflection').innerHTML = data.reflections.map(r => `
                <details>
                    <summary>${r.q}</summary>
                    <div class="reflection-content">${r.a}</div>
                </details>
            `).join('');

            // Reset Tabs to first one
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            document.querySelector('[data-tab="before"]').classList.add('active');
            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
            document.getElementById('tab-before').classList.add('active');

            // Show
            modal.classList.add('active');
            lucide.createIcons(); // Refresh icons inside modal
        }

        function setupModal() {
            closeModalBtn.onclick = () => modal.classList.remove('active');
            modal.onclick = (e) => {
                if(e.target === modal) modal.classList.remove('active');
            }
        }

        // 3. Tab Logic
        function setupTabs() {
            const tabs = document.querySelectorAll('.tab-btn');
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    // Remove active from all
                    tabs.forEach(t => t.classList.remove('active'));
                    document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));

                    // Add active to current
                    tab.classList.add('active');
                    const targetId = `tab-${tab.dataset.tab}`;
                    document.getElementById(targetId).classList.add('active');
                });
            });
        }

        // Start
        document.addEventListener('DOMContentLoaded', initPortfolio);
    </script>
</body>
</html>